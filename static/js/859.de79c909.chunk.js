"use strict";(self.webpackChunkreact_node_team_project=self.webpackChunkreact_node_team_project||[]).push([[859],{7291:function(e,t,a){a.d(t,{r:function(){return o}});var r,n=a(2791),s=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function c(e,t){var a=e.title,c=e.titleId,o=i(e,s);return n.createElement("svg",l({width:71,height:71,viewBox:"0 0 71 71",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),a?n.createElement("title",{id:c},a):null,r||(r=n.createElement("path",{d:"M35.5002 59.1666V35.4999M35.5002 35.4999V11.8333M35.5002 35.4999H59.1668M35.5002 35.4999H11.8335",strokeOpacity:.6,strokeWidth:2,strokeLinecap:"round"})))}var o=n.forwardRef(c);a.p},9622:function(e,t,a){a.d(t,{r:function(){return o}});var r,n=a(2791),s=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function c(e,t){var a=e.title,c=e.titleId,o=i(e,s);return n.createElement("svg",l({width:18,height:18,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),a?n.createElement("title",{id:c},a):null,r||(r=n.createElement("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11V11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z"})))}var o=n.forwardRef(c);a.p},5084:function(e,t,a){a.d(t,{Z:function(){return l}});var r="DropList_DropList__rRKqA",n="DropList_DropItem__iUAth",s=a(184);function l(e){var t=e.list,a=e.onSelect;return(0,s.jsx)(s.Fragment,{children:t.length>0&&(0,s.jsx)("ul",{className:r,children:t.map((function(e){return e.city?(0,s.jsxs)("li",{className:n,onClick:function(){return a("".concat(e.city,", ").concat(e.region))},children:[e.city,", ",e.region]},e._id):(0,s.jsx)("li",{className:n,onClick:function(){return a(e.breed)},children:e.breed},e._id)}))})})}},613:function(e,t){var a={maskInput:function(e){var t,a=e.target,r=a.dataset.pattern,n=a.dataset.prefix,s=0,l=0,i="";n&&(s=n.length,i+=n,a.value.length<n.length&&(a.value=n)),t=n&&n===a.value.slice(0,n.length)?a.value.replace(n,"").replace(/[^\d]/g,""):a.value.replace(/[^\d]/g,"");for(var c=s;c<r.length;c++)t[l]&&("*"!==r[c]?i+=r[c]:(i+=t[l],l++));a.value=i},onMaskedInputBlur:function(e){var t=e.target,a=t.dataset.prefix;a&&t.value.length<=a.length&&(t.value="")},onMaskedInputFocus:function(e){var t=e.target,a=t.dataset.prefix;a&&!t.value&&(t.value=a)}};t.Z=a},5859:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ae}});var r=a(2791),n=a(885),s="NoticesSearch_SearchContainer__o78d+",l="NoticesSearch_SearchTitle__m4DZ1",i="NoticesSearch_SearchInput__MejtC",c="NoticesSearch_SearchForm__mpL9p",o="NoticesSearch_SearchBtn__TGMAQ",d=a(7689),u=a(9434),m=a(3290),h=a(9622),p=a(184);function f(){var e=(0,r.useState)(""),t=(0,n.Z)(e,2),a=t[0],f=t[1],x=(0,d.TH)().pathname,v=(0,u.I0)(),g=x.split("/");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:s,children:[(0,p.jsx)("h2",{className:l,children:"Find your favorite pet"}),(0,p.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault(),"sell"===g[2]&&v(m.h.getNoticesCategories({category:"sell",query:a})),"lost-found"===g[2]&&v(m.h.getNoticesCategories({category:"lost/found",query:a})),"for-free"===g[2]&&v(m.h.getNoticesCategories({category:"in_good_hands",query:a})),f("")},children:[(0,p.jsx)("input",{className:i,type:"text",name:"search",autoFocus:!0,placeholder:"Search",value:a,onInput:function(e){return f(e.target.value)},required:!0}),(0,p.jsx)("button",{className:o,type:"submit",children:(0,p.jsx)(h.r,{})})]})]})})}var x=a(1413),v=a(5361),g="NoticesCategoriesNav_btnLink__AC6BN",j="NoticesCategoriesNav_wrapper__DuH-X",N=a(1087),_=a(9249),y=[{id:"sell",text:"sell",active:!1},{id:"lost-found",text:"lost/found",active:!1},{id:"for-free",text:"In good hands",active:!1}],b=[{id:"favorite",text:"Favorite ads",active:!1},{id:"own",text:"My ads",active:!1}];function O(){var e=(0,u.v9)(_.um.getIsLoggedIn),t=(0,r.useState)(e?[].concat(y,b):y),a=(0,n.Z)(t,2),s=a[0],l=a[1],i=(0,d.TH)();return(0,r.useEffect)((function(){var t,a=i.pathname.split("/");t=e?[].concat(y,b).map((function(e){return(0,x.Z)((0,x.Z)({},e),{},{active:a[2]===e.id})})):s.map((function(e){return(0,x.Z)((0,x.Z)({},e),{},{active:a[2]===e.id})})),l(t)}),[i,e]),(0,p.jsx)("div",{className:j,children:s.map((function(e){var t=e.id,a=e.text,r=(e.smole,e.active);return(0,p.jsx)(N.rU,{to:"/notices/".concat(t),className:g,style:{color:"inherit"},children:(0,p.jsx)(v.Z,{text:a,smole:!0,active:r})},t)}))})}var w,M=a(9869),Z="AddNoticeButton_btnWrapper__UjUEZ",A="AddNoticeButton_btn__jkeNX",S="AddNoticeButton_icon__QL6Nl",C=["title","titleId"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k.apply(this,arguments)}function F(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function B(e,t){var a=e.title,n=e.titleId,s=F(e,C);return r.createElement("svg",k({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?r.createElement("title",{id:n},a):null,w||(w=r.createElement("path",{d:"M9 17V9M9 9V1M9 9H17M9 9H1",stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var I=r.forwardRef(B),D=(a.p,a(4805)),L=a(5985),q=a(5705),T="AddNoticeModal_Wrapper__hlzZC",E="AddNoticeModal_header__1pB72",P="AddNoticeModal_text__YWSWC",W="AddNoticeModal_radioWrapper__CmWQq",R="AddNoticeModal_wrapprerInput__R4RQv",V="AddNoticeModal_radioBtn__6ngfc",H="AddNoticeModal_inputRadio__-hhzl",U="AddNoticeModal_textFildWrap__xV5OK",$="AddNoticeModal_inputText__4LaAj",Y="AddNoticeModal_inputTextarea__t+koT",z="AddNoticeModal_label__bVW7J",Q="AddNoticeModal_submitBtnWrapp__OEVWW",J="AddNoticeModal_errorMsg__hKD-a",K="AddNoticeModal_submitBtn__pAryO",X="AddNoticeModal_sexWrap__luL+O",G="AddNoticeModal_sexLabel__0fnyd",ee="AddNoticeModal_sexIcon__E09k+",te="AddNoticeModal_sexIconFemale__4tooD",ae="AddNoticeModal_inputSex__ykv1L",re="AddNoticeModal_sexText__6ShdL",ne="AddNoticeModal_sexM__URyIb",se="AddNoticeModal_avatarLabel__Zuybc",le="AddNoticeModal_addImage__S5-Z6",ie="AddNoticeModal_selectedAvatar__d5L3J",ce="AddNoticeModal_inputFile__z46ch",oe=a(2797),de=a(613),ue=a(5084),me=a(6661),he=new Date,pe=oe.Ry({titleOfAd:oe.Z_().min(2).max(48).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),category:oe.Z_().required("Category is required!"),namePet:oe.Z_().min(2).max(16).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),breed:oe.Z_().min(2).max(36).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),dateOfBirth:oe.hT().test("len","Must be exactly DD.MM.YYYY",(function(e,t){var a=t.originalValue;if(a)return 10===a.length})).transform((function(e,t){return this.isType(e)?e:(0,me.Z)(t,"dd.MM.yyyy",new Date)})).typeError("Please enter a valid date").required().min("1950-11-13","Date is too early").max(he)}),fe=function(e){var t=e.formData,a=e.setFormData,s=e.nextStep,l=e.onClose,i=(0,u.I0)(),c=(0,r.useState)(t.breed),o=(0,n.Z)(c,2),d=o[0],m=o[1],h=(0,r.useState)(!1),f=(0,n.Z)(h,2),v=f[0],g=f[1],j=(0,u.v9)(_.um.getBreeds);return(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:P,children:"Write some information about your notice."}),(0,p.jsx)(q.J9,{validationSchema:pe,initialValues:t,onSubmit:function(e){a((0,x.Z)((0,x.Z)({},e),{},{breed:d})),s()},children:(0,p.jsxs)(q.l0,{children:[(0,p.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",className:W,children:[(0,p.jsxs)("label",{className:R,htmlFor:"lost/found",children:[(0,p.jsx)(q.gN,{type:"radio",name:"category",value:"lost/found",id:"lost/found",className:H}),(0,p.jsx)("div",{className:V,children:"lost/found"})]}),(0,p.jsxs)("label",{className:R,htmlFor:"in_good_hands",children:[(0,p.jsx)(q.gN,{type:"radio",name:"category",value:"in good hands",id:"in good hands",className:H}),(0,p.jsx)("div",{className:V,children:"in good hands"})]}),(0,p.jsxs)("label",{className:R,htmlFor:"sell",children:[(0,p.jsx)(q.gN,{type:"radio",name:"category",value:"sell",id:"sell",className:H}),(0,p.jsx)("div",{className:V,children:"sell"})]})]}),(0,p.jsx)(q.Bc,{name:"category",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{htmlFor:"titleOfAd",type:"text",className:z,children:"Tittle of ad*:"}),(0,p.jsx)(q.gN,{id:"titleOfAd",name:"titleOfAd",placeholder:"Type name pet",className:$}),(0,p.jsx)(q.Bc,{name:"titleOfAd",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{htmlFor:"namePet",type:"text",className:z,children:"Name pet*:"}),(0,p.jsx)(q.gN,{id:"namePet",name:"namePet",placeholder:"Type name pet",className:$}),(0,p.jsx)(q.Bc,{name:"namePet",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{htmlFor:"dateOfBirth",type:"text",className:z,children:"Date of birth*:"}),(0,p.jsx)(q.gN,{id:"dateOfBirth",name:"dateOfBirth",placeholder:"Type date of birth",className:$,"data-pattern":"**.**.****",onInput:de.Z.maskInput,onFocus:de.Z.onMaskedInputFocus,onBlur:de.Z.onMaskedInputBlur}),(0,p.jsx)(q.Bc,{name:"dateOfBirth",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{htmlFor:"breed",type:"text",className:z,children:"Breed*:"}),(0,p.jsx)(q.gN,{id:"breed",name:"breed",placeholder:"Type breed",className:$,autoComplete:"off",value:d,onInput:function(e){/\d/g.test(e.target.value)||" "!==e.target.value&&(m(e.target.value),e.target.value.length>=3?(i(_.r5.searchBreeds(e.target.value)),g(!0)):g(!1))}}),v&&(0,p.jsx)(ue.Z,{list:j,onSelect:function(e){m(e),g(!1)}}),(0,p.jsx)(q.Bc,{name:"breed",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsxs)("div",{className:Q,children:[(0,p.jsx)("button",{type:"submit",className:K,children:"Next"}),(0,p.jsx)("button",{type:"button",className:K,onClick:l,children:"Cancel"})]})]})})]})},xe=a(5861),ve=a(4687),ge=a.n(ve),je=a(7291),Ne=oe.Ry({sex:oe.Z_().required("Field is required!"),location:oe.Z_().min(2).max(36).matches(/\D/g,"Only alphabetic characters are allowed").required("Field is required!"),price:oe.Z_().min(2).max(6).matches(/^[1-9]+[0-9]*\$$/g,"Only number characters and $ are allowed").notRequired(),image:oe.nK().required("Image is Required!(jpg,jpeg,png)").test("fileFormat","Unsupported file type",(function(e){return null===e||e&&_e.includes(e.type)})),comments:oe.Z_().min(4).max(120).matches(/^\D*$/g,"Only alphabetic characters and symbols are allowed").required("Field is required!")}),_e=["image/jpg","image/jpeg","image/png"],ye=function(e){var t=e.formData,a=e.setFormData,s=e.prevStep,l=e.onClose,i=(0,r.useState)("back"),c=(0,n.Z)(i,2),o=c[0],h=c[1],f=(0,r.useState)(t.image),v=(0,n.Z)(f,2),g=v[0],j=v[1],N=(0,u.I0)(),y=(0,d.s0)(),b=(0,u.v9)(_.um.getUserToken);return(0,p.jsx)("div",{children:(0,p.jsx)(q.J9,{validationSchema:Ne,initialValues:t,onSubmit:function(){var e=(0,xe.Z)(ge().mark((function e(t){return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a((0,x.Z)((0,x.Z)({},t),{},{image:g,price:"sell"!==t.category?"1$":t.price})),"back"===o&&s(),"forward"!==o){e.next=12;break}return e.prev=3,e.next=6,N(m.h.createNotices({values:t,token:b})).unwrap();case 6:y("/notices/own"),l(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var r=e.setFieldValue;return(0,p.jsxs)(q.l0,{className:U,children:[(0,p.jsxs)("fieldset",{className:X,children:[(0,p.jsx)("legend",{className:ne,children:"The sex*:"}),(0,p.jsxs)("label",{className:G,htmlFor:"male",children:[(0,p.jsx)(q.gN,{className:ae,type:"radio",id:"male",name:"sex",alt:"male",value:"male"}),(0,p.jsx)("span",{className:ee}),(0,p.jsx)("span",{className:re,children:"Male"})]}),(0,p.jsxs)("label",{className:G,htmlFor:"female",children:[(0,p.jsx)(q.gN,{className:ae,type:"radio",id:"female",name:"sex",alt:"female",value:"female"}),(0,p.jsx)("span",{className:te}),(0,p.jsx)("span",{className:re,children:"Female"})]})]}),(0,p.jsx)(q.Bc,{name:"sex",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{htmlFor:"location",type:"text",className:z,children:"Location*:"}),(0,p.jsx)(q.gN,{id:"location",name:"location",placeholder:"Type location",className:$}),(0,p.jsx)(q.Bc,{name:"location",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),"sell"===t.category&&(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{htmlFor:"price",type:"text",className:z,children:"Price*:"}),(0,p.jsx)(q.gN,{id:"price",name:"price",type:"text",placeholder:"Type price",className:$}),(0,p.jsx)(q.Bc,{name:"price",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsx)("label",{htmlFor:"image",className:se,children:"Load the pet's image*:"}),(0,p.jsxs)("div",{className:le,children:[g?(0,p.jsx)("img",{id:"image",className:ie,src:URL.createObjectURL(g),alt:g.name}):(0,p.jsx)(je.r,{}),(0,p.jsx)("input",{className:ce,type:"file",id:"image",name:"image",accept:".jpg,.png",onChange:function(e){return function(e,t){var r=(0,n.Z)(e.target.files,1)[0];r&&(j(r),t("image",r),a((function(e){return(0,x.Z)((0,x.Z)({},e),{},{image:r})})))}(e,r)}}),(0,p.jsx)(q.Bc,{name:"image",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("label",{className:z,htmlFor:"comments",children:"Comments*:"}),(0,p.jsx)(q.gN,{component:"textarea",name:"comments",id:"comments",rows:"3",placeholder:"Type comments",className:Y}),(0,p.jsx)(q.Bc,{name:"comments",render:function(e){return(0,p.jsx)("div",{className:J,children:e})}})]}),(0,p.jsxs)("div",{className:Q,children:[(0,p.jsx)("button",{type:"submit",className:K,onClick:function(){return h("forward")},children:"Done"}),(0,p.jsx)("button",{type:"submit",className:K,onClick:function(){return h("back")},children:"Back"})]})]})}})})};function be(e){var t=e.onClose,a=(0,r.useState)(1),s=(0,n.Z)(a,2),l=s[0],i=s[1],c=(0,r.useState)({titleOfAd:"",namePet:"",breed:"",sex:"",location:"",price:"1$",category:"",comments:"",dateOfBirth:"",image:""}),o=(0,n.Z)(c,2),d=o[0],u=o[1];switch(l){case 1:return(0,p.jsxs)("div",{className:T,children:[(0,p.jsx)("h1",{className:E,children:"Add pet"}),(0,p.jsx)(fe,{formData:d,setFormData:u,nextStep:function(){return i((function(e){return 1===e?e+1:2}))},onClose:t})]});case 2:return(0,p.jsxs)("div",{className:T,children:[(0,p.jsx)("h1",{className:E,children:"Add pet"}),(0,p.jsx)(ye,{formData:d,setFormData:u,prevStep:function(){return i((function(e){return e-1}))},onClose:t})]});default:return(0,p.jsx)("div",{})}}var Oe=a(7942);function we(){var e=(0,D.useMediaQuery)({maxWidth:767}),t="Add pet",a=(0,u.v9)(M.Z.getIsLoggedIn),s=(0,r.useState)(!1),l=(0,n.Z)(s,2),i=l[0],c=l[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:Z,onClick:function(e){if(!a)return L.Am.info("You must be logged in");c(!0)},children:[!e&&t,(0,p.jsxs)("button",{type:"button",className:A,children:[(0,p.jsx)(I,{className:S}),e&&t]})]}),i&&(0,p.jsx)(Oe.Z,{onClose:function(){c(!1)},children:(0,p.jsx)(be,{onClose:function(){c(!1)}})})]})}var Me="NoticesPage_btnBox__u9YgI",Ze=a(6493);function Ae(){var e=(0,d.TH)().pathname,t=(0,d.s0)();return(0,r.useEffect)((function(){"/notices/lost-found"===e||"/notices/for-free"===e||"/notices/favotire"===e||"/notices/own"===e||t("/notices/sell")}),[]),(0,p.jsxs)(Ze.Z,{children:[(0,p.jsx)(f,{}),(0,p.jsxs)("div",{className:Me,children:[(0,p.jsx)(O,{}),(0,p.jsx)(we,{})]}),(0,p.jsx)(d.j3,{})]})}}}]);
//# sourceMappingURL=859.de79c909.chunk.js.map