"use strict";(self.webpackChunkreact_node_team_project=self.webpackChunkreact_node_team_project||[]).push([[307],{5084:function(e,t,a){a.d(t,{Z:function(){return c}});var r="DropList_DropList__rRKqA",n="DropList_DropItem__iUAth",s=a(184);function c(e){var t=e.list,a=e.onSelect;return(0,s.jsx)(s.Fragment,{children:t.length>0&&(0,s.jsx)("ul",{className:r,children:t.map((function(e){return e.city?(0,s.jsxs)("li",{className:n,onClick:function(){return a("".concat(e.city,", ").concat(e.region))},children:[e.city,", ",e.region]},e._id):(0,s.jsx)("li",{className:n,onClick:function(){return a(e.breed)},children:e.breed},e._id)}))})})}},613:function(e,t){var a={maskInput:function(e){var t,a=e.target,r=a.dataset.pattern,n=a.dataset.prefix,s=0,c=0,i="";n&&(s=n.length,i+=n,a.value.length<n.length&&(a.value=n)),t=n&&n===a.value.slice(0,n.length)?a.value.replace(n,"").replace(/[^\d]/g,""):a.value.replace(/[^\d]/g,"");for(var o=s;o<r.length;o++)t[c]&&("*"!==r[o]?i+=r[o]:(i+=t[c],c++));a.value=i},onMaskedInputBlur:function(e){var t=e.target,a=t.dataset.prefix;a&&t.value.length<=a.length&&(t.value="")},onMaskedInputFocus:function(e){var t=e.target,a=t.dataset.prefix;a&&!t.value&&(t.value=a)}};t.Z=a},2307:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var r=a(2791),n=a(1413),s=a(5861),c=a(885),i=a(4687),o=a.n(i),l=a(9249),u=a(9434),d=a(1087),m=a(5705),h=a(2797),p="AuthForm_form__egVAb",f="AuthForm_title__iLzAU",x="AuthForm_fieldContainer__ExMkV",v="AuthForm_input__Hh+xa",_="AuthForm_inputBox__2hnZq",g="AuthForm_toggle__TjwWD",j="AuthForm_validation__bBPXC",N="AuthForm_show__T3lFZ",w="AuthForm_items__MbG-W",y="AuthForm_valid__UHubo",Z="AuthForm_questionText__VEDc+",A="AuthForm_loginLink__5qwtc",b="AuthForm_buttonContainer__ayWr7",F="AuthForm_button__BaHoU",k="AuthForm_buttonDefault__ICNIS",C="AuthForm_buttonActive__7kiBc",I="AuthForm_register__vFGNy",L="AuthForm_back__3TCql";var B=a.p+"static/media/eye.b02640ef93ed7c75e7f53dc6c21987e7.svg";var R=a.p+"static/media/eye-blocked.3fe4f5a167e9ea01c4f0d44a65fd1227.svg",q=a(184),E=function(e){return(0,q.jsx)("div",{className:"validation-error-message",children:e})},P=h.Ry({email:h.Z_().email("Invalid email").required("Email is required"),password:h.Z_().required("Password is required").matches(/^[^ ]{7,32}$/,"Password should not contain space").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{7,})/,"Password is not valid as per password policy").max(32),confirmPassword:h.Z_().required("Confirm Password is required").when("password",{is:function(e){return!!(e&&e.length>0)},then:h.Z_().oneOf([h.iH("password")],"Both password need to be the same")})}),S=function(e){var t=(0,r.useState)("password"),a=(0,c.Z)(t,2),n=a[0],s=a[1],i=(0,r.useState)("password"),o=(0,c.Z)(i,2),l=o[0],u=o[1],h=(0,r.useState)(B),k=(0,c.Z)(h,2),I=k[0],L=k[1],S=(0,r.useState)(B),D=(0,c.Z)(S,2),z=D[0],U=D[1],M=(0,r.useState)(j),T=(0,c.Z)(M,2),V=T[0],$=T[1],H=document.getElementById("password");(0,r.useEffect)((function(){H=document.getElementById("password")}),[]);var W=(0,r.useRef)(),G=(0,r.useRef)(),J=(0,r.useRef)(),K=(0,r.useRef)(),O=(0,r.useRef)();function X(e){"passwordEye"===e.currentTarget.id?"text"===n?(s("password"),L(B)):(s("text"),L(R)):"text"===l?(u("password"),U(B)):(u("text"),U(R))}function Q(e){var t=new RegExp("(?=.*[a-z])"),a=new RegExp("(?=.*[A-Z])"),r=new RegExp("(?=.*[0-9])"),n=new RegExp("(?=.*[!@#$%^&*])"),s=new RegExp("(?=.{7,})");t.test(e)?W.current.classList.add(y):W.current.classList.remove(y),a.test(e)?G.current.classList.add(y):G.current.classList.remove(y),r.test(e)?J.current.classList.add(y):J.current.classList.remove(y),n.test(e)?K.current.classList.add(y):K.current.classList.remove(y),s.test(e)?O.current.classList.add(y):O.current.classList.remove(y),t.test(e)&&a.test(e)&&r.test(e)&&n.test(e)&&s.test(e)?$(j):$(j+" "+N)}return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(m.J9,{initialValues:e.data,onSubmit:function(t){e.next(t)},validationSchema:P,children:function(e){var t=e.errors,a=e.touched;return(0,q.jsxs)(m.l0,{className:p,children:[(0,q.jsx)("h1",{className:f,children:"Registration"}),(0,q.jsxs)("div",{className:x,children:[(0,q.jsx)(m.gN,{type:"email",name:"email",placeholder:"Email",className:v,error:a.email&&t.email}),(0,q.jsx)(m.Bc,{name:"email",children:E})]}),(0,q.jsxs)("div",{className:x,children:[(0,q.jsxs)("label",{className:_,htmlFor:"password",children:[(0,q.jsx)(m.gN,{type:n,autoComplete:"on",name:"password",id:"password",placeholder:"Password",className:v,error:a.firstName&&t.firstName,onKeyUp:function(){return Q(H.value)},onFocus:function(){return Q(H.value)},onBlur:function(){return $(j)}}),(0,q.jsx)("span",{className:g,id:"passwordEye",onClick:function(e){return X(e)},style:{backgroundImage:"url(".concat(I,")")}}),(0,q.jsx)("div",{className:V,id:"validation",children:(0,q.jsxs)("ul",{className:w,children:[(0,q.jsx)("li",{ref:W,children:"At least one lowercase character"}),(0,q.jsx)("li",{ref:G,children:"At least one uppercase character"}),(0,q.jsx)("li",{ref:J,children:"At least one number"}),(0,q.jsx)("li",{ref:K,children:"At least one special character"}),(0,q.jsx)("li",{ref:O,children:"At least 7 characters"})]})})]}),(0,q.jsx)(m.Bc,{name:"password",children:E})]}),(0,q.jsxs)("div",{className:x,children:[(0,q.jsx)(m.gN,{type:l,autoComplete:"on",name:"confirmPassword",placeholder:"Confirm Password",className:v,error:a.lastName&&t.lastName}),(0,q.jsx)("span",{className:g,id:"confirmPasswordEye",onClick:function(e){return X(e)},style:{backgroundImage:"url(".concat(z,")")}}),(0,q.jsx)(m.Bc,{name:"confirmPassword",children:E})]}),(0,q.jsx)("div",{className:b,children:(0,q.jsx)("button",{type:"submit",className:"".concat(F," ").concat(C),children:"Next"})}),(0,q.jsxs)("p",{className:Z,children:["Already have an account?"," ",(0,q.jsx)(d.rU,{to:"/login",className:A,children:"Login"})]})]})}})})},D=a(5084),z=a(613),U=a(2756),M=h.Ry({name:h.Z_().required("Name is required").matches(/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/,"Name should only contain Latin letters"),city:h.Z_().required("Address is required").matches(/^[a-zA-Z\-\u2019 ]+, [a-zA-Z\-\u2019 ]+$/,"Address should be in format: City, Region"),phone:h.Z_().required("Phone is required").matches(/^\+38\(0..\)...-..-../,"Phone should be in format +38(067)123-45-67")}),T=function(e){var t=e.data,a=e.setFormData,s=e.next,i=e.prev,o=(0,r.useState)(!1),h=(0,c.Z)(o,2),g=h[0],j=h[1],N=(0,u.I0)(),w=(0,u.v9)(l.um.getCities),y=(0,u.v9)(l.um.getIsLoading);return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(m.J9,{initialValues:t,onSubmit:function(e){var a=(0,n.Z)((0,n.Z)({},e),{},{city:t.city});delete a.confirmPassword,s(a,!0)},validationSchema:M,enableReinitialize:!0,children:function(e){var r=e.values;return(0,q.jsxs)(m.l0,{className:p,children:[(0,q.jsx)("h1",{className:f,children:"Registration"}),(0,q.jsxs)("div",{className:x,children:[(0,q.jsx)(m.gN,{name:"name",placeholder:"Name",className:v}),(0,q.jsx)(m.Bc,{name:"name",children:E})]}),(0,q.jsxs)("div",{className:x,children:[(0,q.jsxs)("label",{className:_,htmlFor:"city",children:[(0,q.jsx)(m.gN,{name:"city",id:"city",placeholder:"City, region",className:v,margin:"normal",autoComplete:"of",value:t.city,onChange:function(e){return function(e,t){/\d/g.test(e.target.value)||" "!==e.target.value&&(a((function(a){return(0,n.Z)((0,n.Z)({},a),{},{name:t.name,city:e.target.value,phone:t.phone})})),e.target.value.length>=3?(N(l.r5.searchCity(e.target.value)),j(!0)):j(!1))}(e,r)}}),g&&(0,q.jsx)(D.Z,{list:w,onSelect:function(e){a((function(t){return(0,n.Z)((0,n.Z)({},t),{},{city:e})})),j(!1)}})]}),(0,q.jsx)(m.Bc,{name:"city",children:E})]}),(0,q.jsxs)("div",{className:x,children:[(0,q.jsx)(m.gN,{name:"phone",placeholder:"Mobile phone",className:v,"data-pattern":"+**(***)***-**-**","data-prefix":"+38(0",onInput:z.Z.maskInput,onFocus:z.Z.onMaskedInputFocus,onBlur:z.Z.onMaskedInputBlur}),(0,q.jsx)(m.Bc,{name:"phone",children:E})]}),(0,q.jsxs)("div",{className:b,children:[y?(0,q.jsx)("div",{className:"".concat(F," ").concat(C," ").concat(I),children:(0,q.jsx)(U.s5,{strokeColor:"#fdf7f2",strokeWidth:"5",animationDuration:"0.75",width:"40",visible:!0})}):(0,q.jsx)("button",{type:"submit",className:"".concat(F," ").concat(C," ").concat(I),children:"Register"}),(0,q.jsx)("button",{type:"button",className:"".concat(F," ").concat(k," ").concat(L),onClick:function(){return r.city=t.city,i(r)},children:"Back"})]}),(0,q.jsxs)("p",{className:Z,children:["Already have an account?"," ",(0,q.jsx)(d.rU,{to:"/login",className:A,children:"Login"})]})]})}})})},V=a(7689);function $(){var e=(0,r.useState)({email:"",password:"",confirmPassword:"",name:"",city:"",phone:""}),t=(0,c.Z)(e,2),a=t[0],i=t[1],d=(0,r.useState)(0),m=(0,c.Z)(d,2),h=m[0],p=m[1],f=(0,V.s0)(),x=(0,u.I0)(),v=function(){var e=(0,s.Z)(o().mark((function e(t){var a,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]&&r[1],i((function(e){return(0,n.Z)((0,n.Z)({},e),t)})),!a){e.next=12;break}return e.prev=3,e.next=6,x(l.r5.register(t)).unwrap();case 6:f("/user"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:return e.abrupt("return");case 12:p((function(e){return e+1}));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),_=[(0,q.jsx)(S,{next:v,data:a}),(0,q.jsx)(T,{next:v,prev:function(e){i((function(t){return(0,n.Z)((0,n.Z)({},t),e)})),p((function(e){return e-1}))},setFormData:i,data:a})];return(0,q.jsx)("div",{children:_[h]})}var H=a(6493),W="RegisterPage_waveBackground__UECut";function G(){var e=(0,V.s0)(),t=(0,u.v9)(l.um.getIsLoggedIn);return(0,r.useEffect)((function(){t&&e("/user")}),[e,t]),(0,q.jsx)("div",{className:W,children:(0,q.jsx)(H.Z,{children:(0,q.jsx)($,{})})})}}}]);
//# sourceMappingURL=307.b4261932.chunk.js.map