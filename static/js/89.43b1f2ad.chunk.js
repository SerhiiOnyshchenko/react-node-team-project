"use strict";(self.webpackChunkreact_node_team_project=self.webpackChunkreact_node_team_project||[]).push([[89],{5089:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var s=a(2791),r=a(885),n=a(1087),c=a(5705),i=a(2797),o="AuthForm_form__egVAb",l="AuthForm_title__iLzAU",u="AuthForm_fieldContainer__ExMkV",d="AuthForm_input__Hh+xa",m="AuthForm_inputBox__2hnZq",h="AuthForm_toggle__TjwWD",f="AuthForm_validation__bBPXC",_="AuthForm_show__T3lFZ",p="AuthForm_items__MbG-W",x="AuthForm_valid__UHubo",j="AuthForm_questionText__VEDc+",g="AuthForm_loginLink__5qwtc",v="AuthForm_buttonContainer__ayWr7",N="AuthForm_button__BaHoU",w="AuthForm_buttonDefault__ICNIS",y="AuthForm_buttonActive__7kiBc",A="AuthForm_register__vFGNy",b="AuthForm_back__3TCql";var Z=a.p+"static/media/eye.b02640ef93ed7c75e7f53dc6c21987e7.svg";var F=a.p+"static/media/eye-blocked.3fe4f5a167e9ea01c4f0d44a65fd1227.svg",C=a(184),S=function(e){return(0,C.jsx)("div",{className:"validation-error-message",children:e})},k=i.Ry({email:i.Z_().email("Invalid email").required("Email is required"),password:i.Z_().required("Password is required").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{7,})/,"Password is not valid as per password policy").max(32),confirmPassword:i.Z_().when("password",{is:function(e){return!!(e&&e.length>0)},then:i.Z_().oneOf([i.iH("password")],"Both password need to be the same")})}),L=function(e){var t=e.formData,a=e.setFormData,i=e.nextStep,w=(0,s.useState)("password"),A=(0,r.Z)(w,2),b=A[0],L=A[1],R=(0,s.useState)("password"),E=(0,r.Z)(R,2),B=E[0],D=E[1],P=(0,s.useState)(Z),I=(0,r.Z)(P,2),q=I[0],U=I[1],z=(0,s.useState)(Z),T=(0,r.Z)(z,2),V=T[0],$=T[1],H=(0,s.useState)(f),M=(0,r.Z)(H,2),W=M[0],G=M[1],J=document.getElementById("password");(0,s.useEffect)((function(){J=document.getElementById("password")}),[]);var K=(0,s.useRef)(),O=(0,s.useRef)(),X=(0,s.useRef)(),Q=(0,s.useRef)(),Y=(0,s.useRef)();function ee(e){"passwordEye"===e.currentTarget.id?"text"===b?(L("password"),U(Z)):(L("text"),U(F)):"text"===B?(D("password"),$(Z)):(D("text"),$(F))}function te(e){var t=new RegExp("(?=.*[a-z])"),a=new RegExp("(?=.*[A-Z])"),s=new RegExp("(?=.*[0-9])"),r=new RegExp("(?=.*[!@#$%^&*])"),n=new RegExp("(?=.{7,})");t.test(e)?K.current.classList.add(x):K.current.classList.remove(x),a.test(e)?O.current.classList.add(x):O.current.classList.remove(x),s.test(e)?X.current.classList.add(x):X.current.classList.remove(x),r.test(e)?Q.current.classList.add(x):Q.current.classList.remove(x),n.test(e)?Y.current.classList.add(x):Y.current.classList.remove(x),t.test(e)&&a.test(e)&&s.test(e)&&r.test(e)&&n.test(e)?G(f):G(f+" "+_)}return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(c.J9,{initialValues:t,onSubmit:function(e){a(e),i()},validationSchema:k,children:function(e){var t=e.errors,a=e.touched;return(0,C.jsxs)(c.l0,{className:o,children:[(0,C.jsx)("h1",{className:l,children:"Registration"}),(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(c.gN,{type:"email",name:"email",placeholder:"Email",className:d,error:a.email&&t.email}),(0,C.jsx)(c.Bc,{name:"email",children:S})]}),(0,C.jsxs)("div",{className:u,children:[(0,C.jsxs)("label",{className:m,htmlFor:"password",children:[(0,C.jsx)(c.gN,{type:b,autoComplete:"on",name:"password",id:"password",placeholder:"Password",className:d,error:a.firstName&&t.firstName,onKeyUp:function(){return te(J.value)},onFocus:function(){return te(J.value)},onBlur:function(){return G(f)}}),(0,C.jsx)("span",{className:h,id:"passwordEye",onClick:function(e){return ee(e)},style:{backgroundImage:"url(".concat(q,")")}}),(0,C.jsx)("div",{className:W,id:"validation",children:(0,C.jsxs)("ul",{className:p,children:[(0,C.jsx)("li",{ref:K,children:"At least one lowercase character"}),(0,C.jsx)("li",{ref:O,children:"At least one uppercase character"}),(0,C.jsx)("li",{ref:X,children:"At least one number"}),(0,C.jsx)("li",{ref:Q,children:"At least one special character"}),(0,C.jsx)("li",{ref:Y,children:"At least 7 characters"})]})})]}),(0,C.jsx)(c.Bc,{name:"password",children:S})]}),(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(c.gN,{type:B,autoComplete:"on",name:"confirmPassword",placeholder:"Confirm Password",className:d,error:a.lastName&&t.lastName}),(0,C.jsx)("span",{className:h,id:"confirmPasswordEye",onClick:function(e){return ee(e)},style:{backgroundImage:"url(".concat(V,")")}}),(0,C.jsx)(c.Bc,{name:"confirmPassword",children:S})]}),(0,C.jsx)("div",{className:v,children:(0,C.jsx)("button",{type:"submit",className:"".concat(N," ").concat(y),children:"Next"})}),(0,C.jsxs)("p",{className:j,children:["Already have an account?"," ",(0,C.jsx)(n.rU,{to:"/login",className:g,children:"Login"})]})]})}})})},R=a(1413),E=a(9434),B=a(4704),D="DropList_DropList__rRKqA",P="DropList_DropItem__iUAth";function I(e){var t=e.list,a=e.onSelect;return(0,C.jsx)(C.Fragment,{children:t.length>0&&(0,C.jsx)("ul",{className:D,children:t.map((function(e){return(0,C.jsxs)("li",{className:P,onClick:function(){return a("".concat(e.city,", ").concat(e.region))},children:[e.city,", ",e.region]},"".concat(e.city,", ").concat(e.region))}))})})}var q=i.Ry({name:i.Z_().matches(/^[a-zA-Z-,]+(\s{0,1}[a-zA-Z-, ])*$/,"Name should only contain letters"),city:i.Z_().matches(/^[\w\-\u2019 ]+, [\w\-\u2019 ]+$/,"Address should be in format: City, Region"),phone:i.Z_().matches(/^\+[0-9]{12}$/,"Phone should be in format +380671234567")}),U=function(e){var t=e.formData,a=e.setFormData,i=e.nextStep,h=e.prevStep,f=(0,s.useState)(!1),_=(0,r.Z)(f,2),p=_[0],x=_[1],Z=(0,s.useState)("back"),F=(0,r.Z)(Z,2),k=F[0],L=F[1],D=(0,E.I0)(),P=(0,E.v9)(B.um.getCities);return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(c.J9,{initialValues:t,onSubmit:function(e){a((0,R.Z)((0,R.Z)({},e),{},{city:t.city})),"back"===k?h():i();var s=(0,R.Z)((0,R.Z)({},e),{},{city:t.city});delete s.confirmPassword,"forward"===k&&D(B.r5.register(s))},validationSchema:q,children:(0,C.jsxs)(c.l0,{className:o,children:[(0,C.jsx)("h1",{className:l,children:"Registration"}),(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(c.gN,{name:"name",placeholder:"Name",className:d}),(0,C.jsx)(c.Bc,{name:"name",children:S})]}),(0,C.jsxs)("div",{className:u,children:[(0,C.jsxs)("label",{className:m,htmlFor:"city",children:[(0,C.jsx)(c.gN,{name:"city",id:"city",placeholder:"City, region",className:d,margin:"normal",autoComplete:"of",value:t.city,onChange:function(e){" "!==e.target.value&&(a((function(t){return(0,R.Z)((0,R.Z)({},t),{},{city:e.target.value})})),e.target.value.length>=3?(D(B.r5.searchCity(e.target.value)),x(!0)):x(!1))}}),p&&(0,C.jsx)(I,{list:P,onSelect:function(e){a((function(t){return(0,R.Z)((0,R.Z)({},t),{},{city:e})})),x(!1)}})]}),(0,C.jsx)(c.Bc,{name:"city",children:S})]}),(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(c.gN,{name:"phone",placeholder:"Mobile phone",className:d}),(0,C.jsx)(c.Bc,{name:"phone",children:S})]}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("button",{type:"submit",className:"".concat(N," ").concat(y," ").concat(A),onClick:function(){return L("forward")},children:"Register"}),(0,C.jsx)("button",{type:"submit",className:"".concat(N," ").concat(w," ").concat(b),onClick:function(){return L("back")},children:"Back"})]}),(0,C.jsxs)("p",{className:j,children:["Already have an account?"," ",(0,C.jsx)(n.rU,{to:"/login",className:g,children:"Login"})]})]})})})};function z(){var e=(0,s.useState)(1),t=(0,r.Z)(e,2),a=t[0],n=t[1],c=(0,s.useState)({email:"",password:"",confirmPassword:"",name:"",city:"",phone:""}),i=(0,r.Z)(c,2),o=i[0],l=i[1],u=function(){return n((function(e){return 1===e?e+1:2}))};switch(a){case 1:return(0,C.jsx)(L,{formData:o,setFormData:l,nextStep:u});case 2:return(0,C.jsx)(U,{formData:o,setFormData:l,nextStep:u,prevStep:function(){return n((function(e){return e-1}))}});default:return}}var T=a(6493),V="RegisterPage_waveBackground__UECut",$=a(7689);function H(){var e=(0,$.s0)(),t=(0,E.v9)(B.um.getIsLoggedIn);return(0,s.useEffect)((function(){t&&e("/user")}),[e,t]),(0,C.jsx)("div",{className:V,children:(0,C.jsx)(T.Z,{children:(0,C.jsx)(z,{})})})}}}]);
//# sourceMappingURL=89.43b1f2ad.chunk.js.map